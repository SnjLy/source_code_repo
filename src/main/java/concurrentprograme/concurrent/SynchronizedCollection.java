package concurrentprograme.concurrent;import com.alibaba.fastjson.JSON;import java.util.ArrayList;import java.util.List;import java.util.Random;/** * java 容器线程安全 * Created by yehao on 2017/3/31. */public class SynchronizedCollection implements Runnable {    private ArrayList list=new ArrayList();    public ArrayList getList() {        return list;    }    public void setList(ArrayList list) {        this.list = list;    }    public void run(){        listMethod(list);    }    public synchronized void listMethod(List list){        System.out.println("thread name:"+Thread.currentThread().getName()+"---------"+JSON.toJSONString(list));        list.add(Thread.currentThread().getId()+"-"+Thread.currentThread().getName());        for (int i=0; i<list.size(); i++){            System.out.print("\n\nthread name:"+Thread.currentThread().getName() );            if (i==1){                list.add("这是第："+list.size()+"次修改");            }        }        System.out.println("thread name:"+Thread.currentThread().getName() +"********"+JSON.toJSONString(list));    }    public static void main(String[] args) {        SynchronizedCollection thread = new SynchronizedCollection();        for (int i = 0; i < 5; i++) {            new Thread(thread).start();        }    }}